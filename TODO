manabi notes


~new stuff~
-----------
resize grid when window is resized!!! otherwise scrollbars get lost

make card template widget demand at least 1 checkmark at all times (really?)

should all those connects be disconnected somehow? particularly in body_pane (do they leak memory)



SUPER CRITICAL BUGS:
--------------------
'learn more' intervals are messed up!!!!!!!!!!!!!

count 'at this time tomorrow' is wrong - doesn't take new cards per daily limit into account

ensure the next card up is the one that was undone

get deck average EF for new cards

don't show 'review early' button if there are no cards that are not new

-when not signed in, bugs! (click title) (also, dojo errors)

gray out the fields while fact submission is in progress (and make sure cmd-enter is disabled then too)


---------------------
TODO:
---------------------
early review spacing

more variance in early review intervals - hard should be more aggressive

allow deleting shared decks which the current user shared

somewhat randomize order of failed cards when reviewing early i guess or something
cos otherwise you just get the same order over and over (or even during regular review)

review early being useful for cramming: dont end up just cycling endlessly through the lower interval stuff. 
the longer interval things should come up too.
despite intervals not being increased much by early review, there should be some delay/spacing so that 
short intervals are delayed a bit for a longer one to come up first.
or maintain a list of the due dates for an entire session or something? idk

hashes for back/forwards

undo suspend,

what to do about undoing the final card in a review? (ui issue)

smart.fm integration (audio first)

dont reset cards completely upon failure

allow unicode full-width (japanese) [] for transliterations, as well as < > because theyre easier to type in the japanese IME

'reset scheduling' button for facts editor

help text for keyboard shortcuts

make the 'per-card actions' section of buttons in the facts editor clearer

more detailed card review history stats

wait until deck stats are downloaded before opening the review dialog,
so we can make sure the user selects a deck with due cards, etc.

delay before the first time we focus the Show Back button, to avoid accidentally
hitting enter twice in the study options dialog.

put the card grade buttons on the bottom of the screen

make fact form requirements dependent on cards selected

example sentence UI

fact type templating system for adding/editing form

move 'All decks' grid option above grid

-disable form submission buttons while they're being processed, after clicked - 

allow selecting multiple facts

make field requirements dependent on which cards are to be generated

take the fact creation datetime into account when scheduling reviews (but not including downloaded shared deck facts)

see my 'sansou / mountain cottage card [=yama no bessou]' - kanji from that is useless since it's given.
so, we need a separate field for synonym! (OR just a notes field, which is only shown in the answer,
or maybe both a question note field and an answer note field. these could be in the hidden 'extra fields')

allow a language choice field for the user to select for every flashcard added, per field, optionally (like smart.fm)
or default a 'meaning' field to the user's native language (since it'll either be that, or the same as the card's foreign language)
or perhaps add a 'monolingual?' kind of bool field


---------------------
TODO (low priority):
---------------------
make english text in cards have a smaller font than japanese text

allow a 'new card order' for cards within a fact (like recall before other ones since recall is more important)

decorators for view funcs (GET, POST, DELETE etc)

sort POS

failed card maximum before reviews prioritize failed cards over others or something like that

have the extra front field for some  card types be a "hint" that must be clicked. like the meaning for kanji reading cards.

search for suspended cards

normalize 'parts of speech', per language

take into account multiple siblings being sent in one GET request, in the case of early review. should AVOID this and just
make the client request more more often. or pre-empt the scheduling somehow. have a 2ary internal excluded id list for this, to pass
among the card funcs.

show a bonus indicator ala readthekanji.com to boost morale

set deck select width instead of using an auto width (see dojocampus example)

consolidate fact_add_form and fact_form

try using select_related to speed up the orm

try to guess with improperly formed furigana notation (gohanwoTA[ta]beru without the space) - find the last non-kanji etc.

"this card was due in x hours" in review screen

allow filtering reviews by multiple tags, not just one

furiganaize regex is still a little sketchy

freeze my pip reqs

respect hidden fields for fact update form - with the 'Add Foobar' link

don't create blank fieldcontent objects. but add the missing ones to update forms, 
and create them upon update (upon submission of the fact update form).

add ability to have help text per each choice in a field

use json instead of pickled tuples for flashcard choice fields

disable the generate readings link while it's loading

don't generate reading if the expression hasn't changed since the last generation

form validation error reporting for tags

delete globally unused tags once removed from an object

use named URLs

review only certain tags

select last-used deck in fact add dialog (and last used model, cards etc) - (per session or not?)
store and remember last deck when creating cards, between sessions

don't allow word wrapping in fact editor grid

increase font size for fact add fields, especially japanese ones

resend grade xhrposts upon error. warn user when offline too - yet keep a queue

ajax error handling

-disable controls after each review

show a tooltip for fact field input when creating a new fact. inside, list any matching facts from one's own 
account, or from any shared decks (or from anyone else's account? with permissions..). upon clicking one, 
fill in the current fact dialog with that card (but warn user that they'll lose what they're writing now? or 
somehow save it.. allow 'back') and change the 'Add' button to say 'Update' if it's from user's existing 
cards. Or, open a second add fact dialog, maybe. (How to implement 'back'?)

sort facts with case insensitivity

---------------------
BUGS:
---------------------
dotted outline isnt aligned inside selected buttons

sometimes when i do space, 1, space, 1, etc. quickly in review mode, it shows the back side of the next card prematurely

openid signup doesnt have timezone in the form

sometimes the decks grid doesnt resize in time of the dialog opening

updating reading doesn't update it in the facts grid

grid Edit link is half hidden in safari - fix this by resizing grid appropriately (upon page resize etc)

mecab probably doesn't handle numbers well - just ignore them for furigana

grid sort arrows are invisible

Account link has a bugs

update tag list after updating fact in fact editor

split half-width characters out and don't send them to mecab, or keep track of them somehow - spaces between them collapse

grid styling - sort a column, arrow doesnt appear

require , for tag deliminator - prevents bug of having 1 tag called "section 1" becoming 2 tags

disable cancel button when submit is clicked

-?-card 5176 has a no good fact

http://121.1.196.96/2h/review.png what was that about... (I think it said no cards despite there being cards)

if user has no cards, give the user a message if he tries to start reviewing cards about how to create cards

cmd-enter might break when the cards dropdown is open

for some reason the fact editor is showing 2 identical fact types, sometimes

restart fcgi gracefully!

new card count should be cleared each time the review dialog is opened - it has the old value for a second

-delete facts associated with deck when deleting deck

-clear card edit view when deleting a card

-(?) theres a bug in this scenario: fail a card, request more cards from server before the card failure request is returned by the server.
the failed card will be excluded. have to think about how to prevent this one.
failed cards at end isn't consistent yet. try this: 3 cards left, all failed. grade 2 as hard. last failed 
card won't show.

fieldcontent.contents uniqueness should be enforced on a per-deck level, so that downloading decks is fine,
but creating a new non-unique card currently is not allowed - it should be allowed as long as it is unique 
for that specific deck it's being inserted into, i guess.

grid column alignment is off when updating a fact (changed the cards..)

----------------------
Longer Term To-Do
----------------------
Export (CSV, XML, Anki)
Import (CSV, HTML tables, Anki, Mnemosyne)
stats/graphs



----------------------
IDEAS:
----------------------
mark a word 'completely learned and memorized!' when interval reaches 120 - age of user. Haha!
'view newly learned cards from this session' after session ends

only constrain unique deck names when creating a new deck, not downloading (for now - makes things easier)

have some hidden 'extra fields' which will be left blank for most cards, to avoid cluttering the dialogs

---------------------
SOMEDAY TODO:
---------------------
only show the loader spinner on the inside of a dialog, not including its titlepane

mincho vs gothic fonts for kanji, maybe on mouse hover or something (useful for learning)

inflection (like in Genki)

truancy expectation (http://foolsworkshop.com/reviews/terms#truancy and its uses there)


---------------------
Stuff to consider:
---------------------
should 'reading' be left blank when the expression has no kanji?

a database of known textbooks. special fields that only activate per textbook (or special models)
intermediate japanese textbook cards could use bunpou note references - what else?

field for word type - verb, na-adj, etc


---------------------
Scheduling ideas:
---------------------
scenario: reviewing a card that was failed just a few minutes ago.
the meaning of 'too easy' for example really changes here. With new cards, the grades show how well you already 
knew the card. But for a recently failed card, 'too easy' is kind of expected

when looking for due cards, count cards that are due any time within the next 8-16 hours as due *now*,
as long as their interval is above some amount (like only mature cards)
but give these lower priority somehow perhaps


problem: 2 very mature sibling cards due at same time, delay makes 1 due a week later.
fail 1st card, but recall 2nd because a week wasn't sufficient.
but 2nd now has an even huger interval.
so to lessen this, perhaps if a card was delayed after a failed sibling card,
its interval should not increase as much.
one way to do this would be to cancel the bonus for recalling far after the card 
was due, especially if the failed card was failed far after its due time.

detect when a user grades inaccurately. for example, if the user tends to 
mark 'very easy', but gets it wrong or thinks it's hard when it comes up 
and it's reviewed on time.

due date fuzz, dependent on interval
overlapping date ranges for ordering... prioritize somehow. maybe based on 
which side they overlap on. and taking interval into account.


------------
Early Review
------------
If there are still failed cards and the session ended due to time/card limits,
then they showed be shown first if the user hits 'Review More'.
The message before 'Review More' should be different depending on if 
it means that the user will be reviewing cards EARLY, or simply more of what 
was due (or not due failed cards). If only new cards are left, if under 
the quota, show 'Review More'. If the new card quota is met, then change 
the button itself to something like 'Learn More New Cards'.

just make the good/easy ones not affect much - reuse the last interval.

also for new cards reviewed too early (due to spacing), hmmm


OTHER NOTES
comment tags:
#TODO
#FIXME
#SOMEDAY
#IDEA



-----------------------
Sites for inspiration:

Language study:
lingq.com
readthekanji.com
edufire.com
livemocha.com
lang8.com
palabea.net

Layout:
http://maxvoltar.com/articles/1-day-with-the-magic-mouse



-----------------------
vim todo:
shift-enter: insert linebreak below cursor, without moving cursor

-----------------------
stuff for yoshimura sensei:
make sure there arent bad production cards
and make sure no cards are in the wrong deck ;)
what to do about singular kanji without vocab? how to select vocab, what to show, etc (from textbook)



-----------------------
clarifying thoughts:
meaning fields shouldn't need transliteration fields, since meaning should make sense to you.
but still allow furigana in meaning fields



attribute creative commons stuff:
cancel.png http://www.iconfinder.net/icondetails/14174/16/
all others http://www.famfamfam.com/lab/icons/
