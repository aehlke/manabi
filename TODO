manabi notes


---------------
design influences

good color inspiration:
http://veerle-v2.duoh.com/blog/comments/a_css_styled_table/

landing page inspiration: http://www.peerindex.net/
has a fun sciency feel

form patterns, could use to change the flashcard crud:
http://www.patternry.com/p=stacked-tabs/
http://www.patternry.com/p=inline-input-adder/ (tag editing?)
overlay design overview: http://www.patternry.com/p=overlay/

analysis of landing pages:
http://visualwebsiteoptimizer.com/split-testing-blog/landing-page-optimization-tips-increases-sales-conversions/
http://www.formstack.com/the-anatomy-of-a-perfect-landing-page


these are nice buttons! http://cubiq.org/iscroll use their css

------------
slogans, wording, etc that help explain the site

Never forget to remember.
"Forget about forgetting" -- supermemo
the science of flashcards - have a page about the psychological bases

as a summary to an article  explaining the site: "Learn once. Never forget."

studying a variety of things is better than focusing on single topics: http://www.nytimes.com/2010/09/07/health/views/07mind.html?_r=2&pagewanted=all

have hover text for the grade buttons:
Wrong: Couldn't remember this one.
hard: Correct answer, but took too long to remember.
      Correct, but unconfident.
      Correct, but with difficulty.
      Correct, but a struggle to recall.
Good: Correct after brief thought.
Too Easy: I could have waited longer before reviewing this one.

rename 'new cards' to 'unseen cards' or something?

the closer you stick to the schedule, the more benefit you'll get out of our algorithm.
and the less time overall you'll have to spend studying. this is in fact our primary goal -- why overstudy,
when you could be learning new material instead, or just doing something else more interesting? ;)


----------------
Raphael.js examples
data viz http://projects.antpaw.org/webworker/
http://markup.io/
charting lib for raphael http://grafico.kilianvalkhof.com/documentation/index.html

http://highcharts.com/demo/

nice graph visuals http://www.myedu.com/college-degree-timeline
colors for graph http://getcharmed.com/

-------------

brand new refactor todo
---------
BUG: suspended cards are showing up in reviews (fixed?)
BUG: suspended cards arent grayed out in grid

bugs with the form

use keydown for space bar shortcut in reviews -- feels more responsive

make some things into optional contextprocs

magic numbers

add basic auditing to some more models

views.py: refactor GET/POST methods

models:
    fuzzing

-----------
braaaaaand new features

per-day scheduling


==========



~new stuff~
-----------
include maturity/newness status in 'next_cards_for_review' -- use to display tally in summary screen

"show hints" checkbox option in study - toggle all extra info

resize grid when window is resized!!! otherwise scrollbars get lost

should all those connects be disconnected somehow? particularly in body_pane (do they leak memory)


database backup plan!!!!! backup-manager, rsync


need some way to specify which cardtemplates are active for a given fact,
so that subscribing to a deck doesnt necessitate creating a ton of card objects
just create the card object upon first review.
is there a good way to get new cards without knowing if a user has his own card or not yet


SUPER CRITICAL BUGS:
--------------------
verification emails arent being sent!

broken on firefox 3.0.x on mac

reading generation for sentences is broken (see firebug, js error)

'x due this time tomorrow' is screwed up - it shouldnt include new cards probably

early review cut short

-dont show duplicate kana in reviews. (same word in reading)

-NY isnt default timezone

ensure the next card up is the one that was undone

-when not signed in, bugs! (click title) (also, dojo errors)

gray out the fields while fact submission is in progress (and make sure cmd-enter is disabled then too)

tag errors not shown in fact editor

nobiuki suji

make field uniqueness per-deck


---------------------
TODO:
---------------------
stat counts shoudl take into account active or suspended cards/facts too

allow adding unsorted/orphan cards/items

change the page title when the hash changes, somehow

user feedback link thing

use 'term' instead of 'expression'

don't allow viewing a deck which you don't own

confirmed account page should have link to login

delete unused tags

dont save empty fieldcontents

immediately remove row from grid after delete without waiting for POST response (facts editor)

learning mode (after sentences)
dont count 'already known cards' (new cards answered as such) toward the 'new count per day' quota

early review spacing

more variance in early review intervals - hard should be more aggressive

allow deleting shared decks which the current user shared

somewhat randomize order of failed cards when reviewing early i guess or something
cos otherwise you just get the same order over and over (or even during regular review)

review early being useful for cramming: dont end up just cycling endlessly through the lower interval stuff. 
the longer interval things should come up too.
despite intervals not being increased much by early review, there should be some delay/spacing so that 
short intervals are delayed a bit for a longer one to come up first.
or maintain a list of the due dates for an entire session or something? idk

dont reset cards completely upon failure

'reset scheduling' button for facts editor

help text for keyboard shortcuts

make the 'per-card actions' section of buttons in the facts editor clearer

more detailed card review history stats

wait until deck stats are downloaded before opening the review dialog,
so we can make sure the user selects a deck with due cards, etc.

put the card grade buttons on the bottom of the screen

make fact form requirements dependent on cards selected

example sentence UI

fact type templating system for adding/editing form

move 'All decks' grid option above grid

-disable form submission buttons while they're being processed, after clicked - 

allow selecting multiple facts

make field requirements dependent on which cards are to be generated

take the fact creation datetime into account when scheduling reviews (but not including downloaded shared deck facts)

see my 'sansou / mountain cottage card [=yama no bessou]' - kanji from that is useless since it's given.
so, we need a separate field for synonym! (OR just a notes field, which is only shown in the answer,
or maybe both a question note field and an answer note field. these could be in the hidden 'extra fields')

consolidate fact_add_form and fact_form


---------------------
TODO (low priority):
---------------------
make card template widget demand at least 1 checkmark at all times (really?)

natural sorting for deck names (less 2 vs. lesson 10)

what to do about undoing the final card in a review? (ui issue)

delay before the first time we focus the Show Back button, to avoid accidentally
hitting enter twice in the study options dialog.

kanji stories (finally, a unified database is possible...)
also radical meaning lookup

undo suspend,

more undo levels

smart.fm integration (audio first)

allow a language choice field for the user to select for every flashcard added, per field, optionally (like smart.fm)
or default a 'meaning' field to the user's native language (since it'll either be that, or the same as the card's foreign language)
or perhaps add a 'monolingual?' kind of bool field

allow unicode full-width (japanese) [] for transliterations, as well as < > because theyre easier to type in the japanese IME

make english text in cards have a smaller font than japanese text

allow a 'new card order' for cards within a fact (like recall before other ones since recall is more important)

decorators for view funcs (GET, POST, DELETE etc)

sort POS

failed card maximum before reviews prioritize failed cards over others or something like that

have the extra front field for some  card types be a "hint" that must be clicked. like the meaning for kanji reading cards.

search for suspended cards

normalize 'parts of speech', per language

take into account multiple siblings being sent in one GET request, in the case of early review. should AVOID this and just
make the client request more more often. or pre-empt the scheduling somehow. have a 2ary internal excluded id list for this, to pass
among the card funcs.

show a bonus indicator ala readthekanji.com to boost morale

set deck select width instead of using an auto width (see dojocampus example)

try using select_related to speed up the orm

try to guess with improperly formed furigana notation (gohanwoTA[ta]beru without the space) - find the last non-kanji etc.

"this card was due in x hours" in review screen

allow filtering reviews by multiple tags, not just one

furiganaize regex is still a little sketchy

freeze my pip reqs

respect hidden fields for fact update form - with the 'Add Foobar' link

don't create blank fieldcontent objects. but add the missing ones to update forms, 
and create them upon update (upon submission of the fact update form).

add ability to have help text per each choice in a field

use json instead of pickled tuples for flashcard choice fields

disable the generate readings link while it's loading

don't generate reading if the expression hasn't changed since the last generation

form validation error reporting for tags

delete globally unused tags once removed from an object

use named URLs

review only certain tags

select last-used deck in fact add dialog (and last used model, cards etc) - (per session or not?)
store and remember last deck when creating cards, between sessions

don't allow word wrapping in fact editor grid

increase font size for fact add fields, especially japanese ones

resend grade xhrposts upon error. warn user when offline too - yet keep a queue

ajax error handling

-disable controls after each review

show a tooltip for fact field input when creating a new fact. inside, list any matching facts from one's own 
account, or from any shared decks (or from anyone else's account? with permissions..). upon clicking one, 
fill in the current fact dialog with that card (but warn user that they'll lose what they're writing now? or 
somehow save it.. allow 'back') and change the 'Add' button to say 'Update' if it's from user's existing 
cards. Or, open a second add fact dialog, maybe. (How to implement 'back'?)

sort facts with case insensitivity

---------------------
BUGS:
---------------------
suspended cards arent gray in the fact editor

'learn more' intervals are messed up!!!!!!!!!!!!!
i think it's the fuzz. look at a 'learn more' delayed sibling card, and rate it, undo, repeat - sometimes it goes descending

unmatched div in home page

dotted outline isnt aligned inside selected buttons

sometimes when i do space, 1, space, 1, etc. quickly in review mode, it shows the back side of the next card prematurely

openid signup doesnt have timezone in the form

sometimes the decks grid doesnt resize in time of the dialog opening

updating reading doesn't update it in the facts grid

grid Edit link is half hidden in safari - fix this by resizing grid appropriately (upon page resize etc)

mecab probably doesn't handle numbers well - just ignore them for furigana

grid sort arrows are invisible

Account link has a bugs

update tag list after updating fact in fact editor

split half-width characters out and don't send them to mecab, or keep track of them somehow - spaces between them collapse

grid styling - sort a column, arrow doesnt appear

require , for tag deliminator - prevents bug of having 1 tag called "section 1" becoming 2 tags

disable cancel button when submit is clicked

-?-card 5176 has a no good fact

http://121.1.196.96/2h/review.png what was that about... (I think it said no cards despite there being cards)

if user has no cards, give the user a message if he tries to start reviewing cards about how to create cards

cmd-enter might break when the cards dropdown is open

for some reason the fact editor is showing 2 identical fact types, sometimes

restart fcgi gracefully!

new card count should be cleared each time the review dialog is opened - it has the old value for a second

-delete facts associated with deck when deleting deck

-clear card edit view when deleting a card

-(?) theres a bug in this scenario: fail a card, request more cards from server before the card failure request is returned by the server.
the failed card will be excluded. have to think about how to prevent this one.
failed cards at end isn't consistent yet. try this: 3 cards left, all failed. grade 2 as hard. last failed 
card won't show.

fieldcontent.contents uniqueness should be enforced on a per-deck level, so that downloading decks is fine,
but creating a new non-unique card currently is not allowed - it should be allowed as long as it is unique 
for that specific deck it's being inserted into, i guess.

grid column alignment is off when updating a fact (changed the cards..)

----------------------
Longer Term To-Do
----------------------
Export (CSV, XML, Anki)
Import (CSV, HTML tables, Anki, Mnemosyne)
stats/graphs



----------------------
IDEAS:
----------------------
catch-up recovery mode: have wording like this: "You have a lot of cards due (/in fact, 2097 cards/) but if you study 60 per day for a week, you'll be all caught up!" so that we hide (deemphasize) the demotivating count.


mark a word 'completely learned and memorized!' when interval reaches 120 - age of user. Haha!
'view newly learned cards from this session' after session ends

only constrain unique deck names when creating a new deck, not downloading (for now - makes things easier)

have some hidden 'extra fields' which will be left blank for most cards, to avoid cluttering the dialogs

do things with tags like show when a tag group is getting strong, to motivate them. or a way to see weak ones to suggest being worked on

also perhaps a way to find 'unbalanced' cards - where both recall and prod. are enabled, but one is neglected, or one is far worse than the other

have preset suggested tags like grammar etc for encouraging sharing

---------------------
SOMEDAY TODO:
---------------------
only show the loader spinner on the inside of a dialog, not including its titlepane

mincho vs gothic fonts for kanji, maybe on mouse hover or something (useful for learning)

inflection (like in Genki)

truancy expectation (http://foolsworkshop.com/reviews/terms#truancy and its uses there)

samurai words deck: http://www.tofugu.com/2008/02/09/how-to-talk-like-a-samurai/


---------------------
Stuff to consider:
---------------------
should 'reading' be left blank when the expression has no kanji?

a database of known textbooks. special fields that only activate per textbook (or special models)
intermediate japanese textbook cards could use bunpou note references - what else?

field for word type - verb, na-adj, etc


---------------------
Scheduling ideas:
---------------------
consider 'due very soon' cards due now when in a review session
(depending on their interval too)

scenario: reviewing a card that was failed just a few minutes ago.
the meaning of 'too easy' for example really changes here. With new cards, the grades show how well you already 
knew the card. But for a recently failed card, 'too easy' is kind of expected

when looking for due cards, count cards that are due any time within the next 8-16 hours as due *now*,
as long as their interval is above some amount (like only mature cards)
but give these lower priority somehow perhaps


problem: 2 very mature sibling cards due at same time, delay makes 1 due a week later.
fail 1st card, but recall 2nd because a week wasn't sufficient.
but 2nd now has an even huger interval.
so to lessen this, perhaps if a card was delayed after a failed sibling card,
its interval should not increase as much.
one way to do this would be to cancel the bonus for recalling far after the card 
was due, especially if the failed card was failed far after its due time.

detect when a user grades inaccurately. for example, if the user tends to 
mark 'very easy', but gets it wrong or thinks it's hard when it comes up 
and it's reviewed on time.

due date fuzz, dependent on interval
overlapping date ranges for ordering... prioritize somehow. maybe based on 
which side they overlap on. and taking interval into account.

cards with similar intervals & due dates should have their order randomized a bit,
to avoid clustering after a week etc.

bury option


really need separate delay times/rules depending on card type.
and an ordering for which to show first, especially for new siblings, but also for similar interval siblings.
think about my kanji quiz prep in anki...

failed cards should be sorted randomly, if theyre within similar due times or w/e

------------
Early Review
------------
If there are still failed cards and the session ended due to time/card limits,
then they showed be shown first if the user hits 'Review More'.
The message before 'Review More' should be different depending on if 
it means that the user will be reviewing cards EARLY, or simply more of what 
was due (or not due failed cards). If only new cards are left, if under 
the quota, show 'Review More'. If the new card quota is met, then change 
the button itself to something like 'Learn More New Cards'.

just make the good/easy ones not affect much - reuse the last interval.

also for new cards reviewed too early (due to spacing), hmmm


OTHER NOTES
comment tags:
#TODO
#FIXME
#SOMEDAY
#IDEA


-----------------
site theme/layout

discussion on good colors for srs/learning:
http://forum.koohii.com/viewtopic.php?id=5574


-----------------------
Sites for inspiration:

Language study:
lingq.com
readthekanji.com
edufire.com
livemocha.com
lang8.com
palabea.net

Layout:
http://maxvoltar.com/articles/1-day-with-the-magic-mouse



http://developer.apple.com/mac/library/documentation/UserExperience/Reference/DictionaryServicesRef/Reference/reference.html

-----------------------
vim todo:
-----------------------

stuff for yoshimura sensei:
make sure there arent bad production cards
and make sure no cards are in the wrong deck ;)
what to do about singular kanji without vocab? how to select vocab, what to show, etc (from textbook)



-----------------------
clarifying thoughts:
meaning fields shouldn't need transliteration fields, since meaning should make sense to you.
but still allow furigana in meaning fields



attribute creative commons stuff:
cancel.png http://www.iconfinder.net/icondetails/14174/16/
all others http://www.famfamfam.com/lab/icons/



------------
new layout deck sync stuff
------------
bug with subscribers changing the deck of a card
-edit subscribed card->deck is wrong
what to do about messing with subscriber stuff while subscribers are currently reviewing?
-copy tags from shared facts
make sure fact constraints check subscribed deck facts too
click a shared deck, if already subscribed, go to that
click a shared deck, if not subscribed, 'cards_deleteButton not defined' error
-handle deleting a subscriber fact - should just do active=false or something
-search

-new card estimate is wrong

'No cards due right now' dialog has to change

-changing cards for shared fact
-actually studying the cards is broken - fieldcontents aren't shown for back or front sometimes, etc
-'study now' per deck should restrict to that deck only (bug)

?deck card counts arent accurate for 'hybrid' shared/annotated decks
have a feedback box in the home page
server-side-generated review options/review early etc dialogs, for study now buttons
-how to deal with unsharing decks? let subscribed users stay subscribed i guess. what about cards added after that?
change review session finish dialog..

allow tabbing to the reading field, but if it's disabled, tab to the next field

right now it's creating all subscriber facts because of _next_new_cards2 as part of the next_cards_count method.

-sorta-disable study now button when first clicked

-delete subscriber deck
-delete shared deck

move 'edit' and 'suspend card' into some dropdown menu

sentence reading field in subfacts.html shows up as 'sentence' when it does show up

-session over dialog shows 'this time tomorrow x due' for ALL decks not just the one deck

tabindexes are screwed up

if a subscribed deck is deleted, and then the last subscriber deletes it too, then it should actually delete the original subscribed deck too

subfact stuff:
it may not be working for updated subscriber subfacts

put 'learn new cards' button above 'review early' - it's more important


'learn new cards' i saw this: 10hours/11hours/10hours

got a timeout on posting a card review...

'review early' for my sample deck is only giving me 1 card

some user emails cut off the signup link which adds a = or something - need to have some better way to handle this
one became 'http://manabi.org/account/confirm_email/4=8a4ceddb5fe736a0db209c8ed3cbfa8b5b615e9/'

move the include flashcards/base.html to homepage.html

openid associating with existing accnt doesnt work

make usernames case insensitive

need fact grid sort options/defaults (especially for adding cards to a subscribed deck)

early review is maybe broken!!!!!!!

count due as urgent is often incorrect. it doesn't take spacing into account! i had a deck with 1 fact, 2 cards, it said 2 urgent due, only gave me 1 of course.
also this deck's single fact has all 4 cards enabled. hmmmmmmmmm. (deck 246 on production). only 1 of these cards is New.

nose for unit testing

show "What's the reading?" etc on the back side of the flashcard in grey - then hide and replace with answer when they show back


----
server stuff

make sure gzip is enabled
use tarsnap for deployed package history instead of storing on the vps
link flashcards media to the site media so django doesnt serve it (fix urls too then)
