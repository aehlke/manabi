<div dojoType="dijit.Dialog" jsId="reviews_reviewDialog" id="reviews_reviewDialog" title="Flashcard Review">
	<script type="dojo/connect" event="onCancel" args="evt">
        reviews.endSession();
	</script>


    <div id="reviews_reviewOptions">
        <strong>Review Options</strong>
        <p>
            Cards due: <span id="reviews_cardsDueCount"></span><br>
            New cards: <span id="reviews_cardsNewCount"></span>
        </p>
        <hr>
        <p>
            <span style="color:gray">(study options under development)</span><br>
            New cards per day: ...<br>
            Session time limit: ...<br>
            Session card limit: ...
        </p>
        <div id="reviews_noCardsDue" style="display: none">
            <strong>No cards are due right now.</strong><br>
            Would you like to <u>review cards early</u>, or <u>learn new cards</u>?<br>
            <span style="color:gray">(early review still under development)</span>
        </div>
        <div id="reviews_beginReview" style="display: none">
            <button dojoType="dijit.form.Button" type="button">
                Begin Review
                <script type="dojo/method" event="onClick" args="evt">
                    //hide this options screen
                    dojo.byId('reviews_reviewOptions').style.display = 'none';//({display: 'none'});
                    //TODO add a loading screen

                    //start a review session with the server
                    var session_def = reviews.startSession(20); //FIXME use the user-defined session limits

                    //wait for the first cards to be returned from the server
                    session_def.addCallback(function() {
                        //show the first card
                        next_card_def = reviews.nextCard();
                        next_card_def.addCallback(function(next_card) {

                            if (next_card) {
                                //show the review screen
                                dojo.byId('reviews_reviewScreen').style.display = '';

                                //show the card
                                reviews_ui.displayCard(next_card);
                            } else {
                                //no cards are due
                                reviews_ui.showNoCardsDue();
                            }
                        });
                    });
                </script>
            </button>
        </div>
    </div>

    <div id="reviews_reviewScreen" style="display:none;">
        <div style="text-align: center">
            <div style="font-size:32px; padding:20px;" dojoType="dijit.layout.ContentPane" jsId="reviews_cardFront" id="reviews_cardFront"></div>
            <hr>
            <div id="reviews_showCardBack" style="text-align: center;">
                <button dojoType="dijit.form.Button" jsId="reviews_showCardBackButton" type="button">
                    Show Answer
                    <script type="dojo/method" event="onClick" args="evt">
                        reviews_ui.showCardBack(reviews.current_card);
                    </script>
                </button>
            </div>
            <div style="font-size:32px; padding:20px;" dojoType="dijit.layout.ContentPane" jsId="reviews_cardBack" id="reviews_cardBack"></div>
        </div>
        <div id="reviews_gradeButtons" style="margin-top:8px">
            <table>
            <tr>
            <td>
            <button dojoType="dijit.form.Button" type="button">
                Wrong
                <script type="dojo/method" event="onClick" args="evt">
                    reviews_ui.reviewCard(reviews.current_card, reviews.grades.GRADE_NONE);
                </script>
            </button>
            </td>
            <td>
            <button dojoType="dijit.form.Button" type="button">
                Hard
                <script type="dojo/method" event="onClick" args="evt">
                    reviews_ui.reviewCard(reviews.current_card, reviews.grades.GRADE_HARD);
                </script>
            </button>
            </td>
            <td>
            <button dojoType="dijit.form.Button" type="button">
                Good
                <script type="dojo/method" event="onClick" args="evt">
                    reviews_ui.reviewCard(reviews.current_card, reviews.grades.GRADE_GOOD);
                </script>
            </button>
            </td>
            <td>
            <button dojoType="dijit.form.Button" type="button">
                Too Easy
                <script type="dojo/method" event="onClick" args="evt">
                    reviews_ui.reviewCard(reviews.current_card, reviews.grades.GRADE_EASY);
                </script>
            </button>
            </td>
            </tr>
            <tr>
                <td id="reviews_gradeNoneInterval" style="color:gray;font-size:10px;text-align:center;"></td>
                <td id="reviews_gradeHardInterval" style="color:gray;font-size:10px;text-align:center;"></td>
                <td id="reviews_gradeGoodInterval" style="color:gray;font-size:10px;text-align:center;"></td>
                <td id="reviews_gradeEasyInterval" style="color:gray;font-size:10px;text-align:center;"></td>
            </tr>
            </table>
        </div>
    </div>

    <div id="reviews_reviewEndScreen" style="display: none">
        <strong>Congratulations.</strong>
        You are done with this review session.
    </div>


</div>



<button dojoType="dojox.form.BusyButton" jsId="reviews_openDialogButton" busyLabel="Loading...">
    Review Flashcards
	<script type="dojo/connect" event="onClick" args="evt">
        this.cancel();
        reviews_ui.openDialog();
	</script>
</button> Begin reviewing your flashcards.

<br>
<br>
<br>
<strong>What the flashcard review grades mean:</strong><br>
<ul>
    <li><em>Wrong</em> - Rate a card as this if you couldn't remember its answer, or if you remembered it incorrectly or made a mistake.</li>
    <li><em>Hard</em> - This grade means that you remembered the card's answer, but it was difficult to recall and took too long. This tells the flashcard algorithm that you should have reviewed this card earlier than you did.</li>
    <li><em>Good</em> - This means that you recalled the card's answer correctly and with just a small amount of difficulty. This is the ideal response and means that this software is working effectively.</li>
    <li><em>Too Easy</em> - This means that you recalled the answer very easily. You could have waited a while longer to review this card - it wasn't necessary to review it this early.</li>
</ul>
<br>
This flashcard software uses the grades that you give each card to determine when you should review that card next in the future. When you're just starting to learn a new card, it's okay (and expected) that you'll have to rate the card review as a failure (the <em>Wrong</em> grade). After this initial learning period, ideally most of your grades will be <em>Good</em>. Please grade your cards honestly, and don't be afraid to give it a low rating if you're unsure of yourself.

